<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <title>Quart d'heure prevention (QHP)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            margin-left: 10px;
            font-size: 14px;

            padding: 0;
        }


        .top-fields {
            display: flex;
            flex-wrap: wrap;
            /* Permettre aux √©l√©ments de passer √† la ligne si n√©cessaire */
            gap: 20px;
            /* Espace entre les √©l√©ments */
            margin-bottom: 20px;
            align-items: baseline;
        }

        .top-fields label {
            font-weight: bold;
            font-size: 14px;
            display: flex;
            align-items: center;
        }

        .top-fields input {
            margin-left: 10px;
            /* Espace entre le label et l'input */
            flex: 1;
            /* Permettre √† l'input de prendre l'espace disponible */
        }

        /* Style pour les petits √©crans */
        @media (max-width: 600px) {
            .top-fields {
                flex-direction: column;
                /* Disposer les √©l√©ments en colonne */
                align-items: flex-start;
                /* Aligner les √©l√©ments √† gauche */
            }

            .top-fields label {
                width: 100%;
                /* Prendre toute la largeur disponible */
            }

            .top-fields input {
                width: calc(100% - 10px);
                /* Ajuster la largeur de l'input pour tenir compte de la marge */
            }
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 10px;
            table-layout: fixed;
        }

        th,
        td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: center;
            width: 33.33%;
            /* Pour 3 colonnes √©gales */
        }


        th {
            background: #f0f0f0;
        }

        select,
        input[type="text"],
        input[type="date"] {
            width: 100%;
        }

        button {
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .export {
            background: #2196F3;
            color: white;
        }

        .buttons {
            margin-bottom: 10px;
        }

        /*Conteneur principal utilisant Flexbox */
        .container {
            display: flex;
            align-items: center;
            /* Espacer les √©l√©ments uniform√©ment */
            /* Ajouter un peu de padding autour du conteneur */
            margin-bottom: 50px;
            background-color: rgb(116, 204, 239);
        }

        /* Styles pour les images */
        .logo {
            max-width: 100px;
            /* Ajuster la taille des images selon vos besoins */
            height: auto;
            /* Maintenir les proportions des images */
        }

        @media (max-width: 600px) {
            .regles {
                max-width: 250px;
                /* Ajuster la taille des images selon vos besoins */
                height: auto;
                /* Maintenir les proportions des images */
            }
        }

        @media (min-width: 1200px) {
            .regles {
                max-width: 500px;
                /* Ajuster la taille des images selon vos besoins */
                height: auto;
                /* Maintenir les proportions des images */
            }
        }

        /* Style pour le titre */
        h1 {
            margin-left: 20px;
            font-size: 2rem;
        }


        /* Pour les √©crans de largeur sup√©rieure √† 1200px */
        @media (min-width: 1200px) {
            input::placeholder {
                font-size: 1.0rem;
                /* Taille plus grande pour les grands √©crans */
            }
        }

        .aligned-table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
        }

        .aligned-table th,
        .aligned-table td {
            border: 1px solid #ccc;
            padding: 8px;
            vertical-align: top;
            width: 50%;
        }

        td input[type="text"] {
            width: 100%;
            box-sizing: border-box;
            /* pour inclure padding + bordure dans la largeur */
            height: 50px;
            /* optionnel : pour uniformiser la hauteur aussi */
        }

        .input-bilan {
            width: 100%;
            resize: vertical;
            box-sizing: border-box;
            border: 1px solid #aaa;
            font-size: 14px;
        }


        @media (max-width: 600px) {

            .aligned-table th,
            .aligned-table td {
                display: block;
                width: 100%;
                box-sizing: border-box;
            }

            .aligned-table tr {
                display: flex;
                flex-direction: column;
            }

            .aligned-table th {
                background-color: #f0f0f0;
                /* Exemple de couleur de fond pour les en-t√™tes */
                font-weight: bold;
            }
        }

        .large-row {
            min-height: 50px;
            display: flex;
            align-items: center;
        }

        .signature-animateur {
            border: 1px solid #000;
        }

        button {
            margin-left: auto;
        }

        input[type="text"] {
            width: 100%;
            height: 25px;
            box-sizing: border-box;
            /* Assure que le padding et la bordure sont inclus dans la largeur */
        }

        .input-bilan {
            height: 100px;
        }

        #flash {
            width: 42.5rem;
        }

        .theme {
            width: 50rem;
            height: 100px;
        }

        @media print {

            /* Cache les boutons et √©l√©ments non pertinents √† l'impression */
            button,
            .no-print {
                display: none !important;
            }

            /* Supprime les marges inutiles */
            body {
                margin: 0;
                padding: 0;
            }

            /* √âvite que les tableaux soient coup√©s entre deux pages */
            table {
                page-break-inside: avoid;
                break-inside: avoid;
                table-layout: fixed;
            }

            /* Fixer les largeurs des colonnes si n√©cessaire */
            th,
            td {
                width: 50%;
            }

            textarea.description {
                width: 100%;
                height: 150px;
                overflow: visible;
                box-sizing: border-box;
                resize: none;
                border: none;
                font-size: 14px;
                white-space: pre-wrap;
                word-break: break-word;
                max-width: 100px;
            }

            tr {
                page-break-inside: avoid;
            }

            td,
            th {
                vertical-align: top;
            }

            /* Agrandir les zones de texte pour qu'elles ne soient pas tronqu√©es */
            textarea {
                border: none;
                resize: none;
                overflow: visible;
                font-size: 14pt;
            }

            .sign {
                page-break-inside: avoid;
                break-inside: avoid;
            }

            .input-bilan {
                height: 200px;
            }

        }
    </style>
</head>

<body>
    <div class="container">
        <img class="logo" src="CDES_Logo.png" alt="">
        <h1> Quart d'heure prevention (QHP)</h1>
    </div>
    <div class="top-fields">
        <label>Date:<input type="date" id="visite-date" value=""></label>
        <label>Chantier:<input type="text" id="chantier" placeholder="Nom du chantier"></label>
        <label>Animateur du QHP:<input type="text" id="chantier"></label>
        <label>Th√©matique(Flash mensuelle/Brefing HSE D√©marrage chantiers): <textarea class="theme"
                type="text"></textarea></label>
    </div>
    <table id="obs-table">
        <thead>
            <tr>
                <th>Nom</th>
                <th>Prenom</th>
                <th>Signature</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <table class="aligned-table">
        <th>Mes attentes HSE suite au QHP: </th>
        <tr>
            <td>
                <div class="large-row">
                    <textarea class="input-bilan" type="text"></textarea>
                </div>
            </td>
        </tr>
    </table>

    <div class="top-fields">
        <div>
            <label>Signature de l'animateur:</label>
            <div class="sign">
                <canvas id="drawingCanvas1" class="signature-animateur"></canvas>
                <button onclick="clearCanvas('drawingCanvas1')">üßπ Effacer</button>
            </div>
        </div>
    </div>
    <div class="buttons">
        <button class="export" onclick="print()">Imprimer</button>
        <button class="export" onclick="download">Exporter</button>
    </div>

    <script src="index.js"> </script>
</body>

</html>